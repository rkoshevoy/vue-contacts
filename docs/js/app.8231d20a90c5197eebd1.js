webpackJsonp([0],{3321:function(t,n){},Kax8:function(t,n,a){t.exports=a.p+"img/no-avatar.88962eb.jpg"},NHnr:function(t,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=a("7+uW"),o=a("mvHQ"),i=a.n(o),s={name:"Contacts",data:function(){return{contact:{name:null,number:null,image:""},contactsList:[]}},mounted:function(){this.getContacts()},methods:{saveContactsList:function(){localStorage.setItem("contacts",i()(this.contactsList))},addContact:function(t){this.contactsList.push(t),this.saveContactsList()},editContact:function(t,n){this.contactsList[n].name=t.name,this.contactsList[n].number=t.number,this.contactsList[n].image=t.image,this.saveContactsList()},getContacts:function(){for(var t=JSON.parse(localStorage.getItem("contacts")||"[]"),n=0;n<t.length;n++)this.contactsList.push(t[n])},deleteContact:function(t){this.contactsList.splice(this.contactsList.indexOf(t),1),this.saveContactsList()}}},c={render:function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"contacts-list-wrapper"},[a("ul",{staticClass:"contacts-list"},t._l(t.contactsList,function(n){return a("li",{ref:"contacts",refInFor:!0,staticClass:"contact"},[a("div",{staticClass:"contact-image"},[a("img",{attrs:{src:n.image}})]),t._v(" "),a("div",{staticClass:"contact-info"},[a("div",{staticClass:"contact-name"},[t._v("\r\n          "+t._s(n.name)+"\r\n        ")]),t._v(" "),a("div",{staticClass:"contact-number"},[t._v("\r\n          "+t._s(n.number)+"\r\n        ")])]),t._v(" "),a("div",{staticClass:"delete-button contact-button",on:{click:function(a){t.deleteContact(n)}}},[t._v("+")]),t._v(" "),a("div",{staticClass:"edit-button contact-button",on:{click:function(a){t.$emit("edit-contact-show",n)}}},[t._v("edit")])])})),t._v(" "),a("div",{staticClass:"add-contact-button",on:{click:function(n){t.$emit("add-contact-show")}}},[t._v("+")])])},staticRenderFns:[]};var d={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("form",{staticClass:"search"},[n("input",{attrs:{type:"text",placeholder:"Начните вводить имя"}})])}]};var l={render:function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"groups-buttons"},t._l(t.groups,function(n){return a("button",{staticClass:"group-button"},[t._v("\n    "+t._s(n.name)+"\n  ")])}))},staticRenderFns:[]};var r={name:"AddEditModal",data:function(){return{nameInput:"",phoneInput:"",addContactShowBool:!1,editContactShowBool:!1,indexOfEdit:"",newContact:{name:null,number:null,image:""},editableContact:{}}},methods:{clearInputs:function(){},addContactShow:function(){this.addContactShowBool=!0,this.editContactShowBool=!1},editContactShow:function(t,n){for(var a in this.editContactShowBool=!0,this.addContactShowBool=!1,t)this.editableContact[a]=t[a];this.indexOfEdit=n},hideModals:function(){this.addContactShowBool=!1,this.editContactShowBool=!1,this.clearInputs()},uploadImage:function(t){var n=t.target.files||t.dataTransfer.files;n.length&&this.createImage(n[0])},createImage:function(t){var n=this,a=new FileReader;a.onload=function(t){n.newContact.image=t.target.result},a.readAsDataURL(t)},deleteImage:function(){this.addContactShowBool?this.newContact.image="":this.editableContact.image=""}}},u={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"modal-body"},[e("div",{staticClass:"modal-close",on:{click:function(n){t.$emit("modal-hide"),t.hideModals()}}},[t._v("+")]),t._v(" "),t.addContactShowBool?e("form",[e("div",{staticClass:"contact-image"},[t.newContact.image?e("img",{staticStyle:{width:"100px"},attrs:{src:t.newContact.image}}):e("img",{staticStyle:{width:"100px"},attrs:{src:a("Kax8")}})]),t._v(" "),e("div",{staticClass:"change-image"},[t.newContact.image?e("button",{attrs:{type:"button"},on:{click:t.deleteImage}},[t._v("Удалить изображение")]):e("input",{attrs:{type:"file"},on:{change:t.uploadImage}})]),t._v(" "),e("div",{staticClass:"modal-edit-inputs"},[e("div",{staticClass:"modal-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newContact.name,expression:"newContact.name"}],attrs:{type:"text"},domProps:{value:t.newContact.name},on:{input:function(n){n.target.composing||t.$set(t.newContact,"name",n.target.value)}}})]),t._v(" "),e("div",{staticClass:"modal-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newContact.number,expression:"newContact.number"}],attrs:{type:"text"},domProps:{value:t.newContact.number},on:{input:function(n){n.target.composing||t.$set(t.newContact,"number",n.target.value)}}})]),t._v(" "),e("div",{staticClass:"modal-input"},[e("input",{attrs:{type:"submit"},on:{click:[function(n){t.$emit("add-contact",t.newContact),t.hideModals()},function(t){if(t.preventDefault(),t.target!==t.currentTarget)return null}]}})])])]):t.editContactShowBool?e("form",[e("div",{staticClass:"contact-image"},[t.editableContact.image?e("img",{staticStyle:{width:"100px"},attrs:{src:t.editableContact.image}}):e("img",{staticStyle:{width:"100px"},attrs:{src:a("Kax8")}})]),t._v(" "),e("div",{staticClass:"modal-edit-inputs"},[e("div",{staticClass:"modal-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.editableContact.name,expression:"editableContact.name"}],attrs:{type:"text"},domProps:{value:t.editableContact.name},on:{input:function(n){n.target.composing||t.$set(t.editableContact,"name",n.target.value)}}})]),t._v(" "),e("div",{staticClass:"modal-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.editableContact.number,expression:"editableContact.number"}],attrs:{type:"text"},domProps:{value:t.editableContact.number},on:{input:function(n){n.target.composing||t.$set(t.editableContact,"number",n.target.value)}}})]),t._v(" "),e("div",{staticClass:"modal-input"},[e("input",{attrs:{type:"submit"},on:{click:[function(n){t.$emit("edit-contact",[t.editableContact,t.indexOfEdit]),t.hideModals()},function(t){if(t.preventDefault(),t.target!==t.currentTarget)return null}]}})])])]):t._e()])},staticRenderFns:[]};var m={name:"App",components:{Contacts:a("VU/8")(s,c,!1,function(t){a("UXrr")},null,null).exports,Search:a("VU/8")({name:"Search"},d,!1,function(t){a("3321")},null,null).exports,Controls:a("VU/8")({name:"Controls",data:function(){return{groups:[{name:"Семья"},{name:"Друзья"},{name:"Сотрудники"}]}}},l,!1,function(t){a("UnjI")},null,null).exports,AddEditModal:a("VU/8")(r,u,!1,function(t){a("U8pE")},null,null).exports},data:function(){return{showModal:!1}},methods:{showAddModal:function(){this.$refs.modal.addContactShow(),this.showModal=!0},showEditModal:function(t){this.$refs.modal.editContactShow(t,this.$refs.contacts.contactsList.indexOf(t)),this.showModal=!0},addContact:function(t){this.$refs.contacts.addContact(t),this.modalHide()},editContact:function(t){this.$refs.contacts.editContact(t[0],t[1]),this.modalHide()},modalHide:function(){this.showModal=!1}}},h={render:function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"contacts-wrapper"},[a("controls"),t._v(" "),a("search"),t._v(" "),a("contacts",{ref:"contacts",on:{"add-contact-show":t.showAddModal,"edit-contact-show":t.showEditModal}}),t._v(" "),a("add-edit-modal",{directives:[{name:"show",rawName:"v-show",value:t.showModal,expression:"showModal"}],ref:"modal",on:{"modal-hide":t.modalHide,"add-contact":t.addContact,"edit-contact":t.editContact}})],1)])},staticRenderFns:[]};var p=a("VU/8")(m,h,!1,function(t){a("anK7")},null,null).exports;e.a.config.productionTip=!1,new e.a({el:"#app",components:{App:p},template:"<App/>"})},U8pE:function(t,n){},UXrr:function(t,n){},UnjI:function(t,n){},anK7:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.8231d20a90c5197eebd1.js.map