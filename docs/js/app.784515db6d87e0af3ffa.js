webpackJsonp([1],{"60Y5":function(t,a){},Kax8:function(t,a,e){t.exports=e.p+"img/no-avatar.88962eb.jpg"},NHnr:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=e("7+uW"),n=e("mvHQ"),i=e.n(n),s={name:"Contacts",data:function(){return{contactsList:[],filterValue:"",groups:[{name:"Семья"},{name:"Друзья"},{name:"Сотрудники"}],activeGroup:"",isDeleteModalShow:!1,isContactSavedShow:!1,deleteContactConfirmIndex:""}},mounted:function(){this.getContacts()},computed:{filteredContacts:function(){var t=this;return this.contactsList.filter(function(a){return t.filterValue&&""===t.activeGroup?a.name.toUpperCase().includes(t.filterValue.toUpperCase()):""!==t.activeGroup?t.filterValue?a.name.toUpperCase().includes(t.filterValue.toUpperCase())&&a.contactGroup==t.activeGroup:a.contactGroup==t.activeGroup:a})}},methods:{saveContactsList:function(){localStorage.setItem("contacts",i()(this.sortContactsList(this.contactsList))),this.contactsList=this.sortContactsList(this.contactsList)},sortContactsList:function(t){for(var a=[],e=[],o=t.slice().sort(function(t,a){return t.name.toUpperCase()>a.name.toUpperCase()?1:t.name.toUpperCase()<a.name.toUpperCase()?-1:0}),n=0;n<o.length;n++)o[n].isFavorite?a.push(o[n]):e.push(o[n]);return o=a.concat(e)},filterContactsByGroup:function(t){this.activeGroup=t},addContact:function(t){this.contactsList.push(t),this.saveContactsList(),this.contactSavedModal()},editContact:function(t,a){this.$set(this.contactsList,a,t),this.saveContactsList(),this.contactSavedModal()},getContacts:function(){for(var t=JSON.parse(localStorage.getItem("contacts")||"[]"),a=0;a<t.length;a++)this.contactsList.push(t[a])},isFavoriteChanging:function(t){var a=this.contactsList.indexOf(t);this.contactsList[a].isFavorite=!this.contactsList[a].isFavorite,this.saveContactsList()},deleteContact:function(t){this.deleteContactConfirmIndex=this.contactsList.indexOf(t),this.isDeleteModalShow=!0},deleteContactConfirmModal:function(){this.$delete(this.contactsList,this.deleteContactConfirmIndex),this.saveContactsList(),this.isDeleteModalShow=!1},contactSavedModal:function(){var t=this;this.isContactSavedShow=!0,setTimeout(function(){t.isContactSavedShow=!1},1e3)}}},c={render:function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"contact-container"},[o("div",{staticClass:"groups-buttons"},[o("button",{staticClass:"group-button",class:{active:""==t.activeGroup},attrs:{type:"button"},on:{click:function(a){t.filterContactsByGroup("")}}},[t._v("Все контакты")]),t._v(" "),t._l(t.groups,function(a){return o("button",{staticClass:"group-button",class:{active:t.activeGroup==a.name},attrs:{type:"button"},on:{click:function(e){t.filterContactsByGroup(a.name)}}},[t._v(t._s(a.name))])})],2),t._v(" "),o("form",{staticClass:"search"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.filterValue,expression:"filterValue"}],attrs:{type:"text",placeholder:"Начните вводить имя",change:t.filteredContacts},domProps:{value:t.filterValue},on:{input:function(a){a.target.composing||(t.filterValue=a.target.value)}}})]),t._v(" "),o("div",{staticClass:"contacts-list-wrapper"},[o("ul",{staticClass:"contacts-list"},[t.contactsList.length?o("div",t._l(t.filteredContacts,function(a){return o("li",{staticClass:"contact"},[o("div",{staticClass:"contact-wrapper",class:a.color},[o("div",{staticClass:"contact-image"},[a.image?o("img",{attrs:{src:a.image}}):o("img",{attrs:{src:e("Kax8")}})]),t._v(" "),o("div",{staticClass:"contact-info"},[o("div",{directives:[{name:"show",rawName:"v-show",value:a.name,expression:"contact.name"}],staticClass:"contact-info-row"},[o("div",{staticClass:"contact-info-left"},[t._v("\r\n                  Имя:\r\n                ")]),t._v(" "),o("div",{staticClass:"contact-info-item"},[t._v("\r\n                  "+t._s(a.name)+"\r\n                ")])]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:a.phoneNumber,expression:"contact.phoneNumber"}],staticClass:"contact-info-row"},[o("div",{staticClass:"contact-info-left"},[t._v("\r\n                  Личный:\r\n                ")]),t._v(" "),o("div",{staticClass:"contact-info-item"},[o("a",{attrs:{href:"tel:{{ contact.phoneNumber }}"}},[t._v(t._s(a.phoneNumber))])])]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:a.workNumber,expression:"contact.workNumber"}],staticClass:"contact-info-row"},[o("div",{staticClass:"contact-info-left"},[t._v("\r\n                  Рабочий:\r\n                ")]),t._v(" "),o("div",{staticClass:"contact-info-item"},[o("a",{attrs:{href:"tel:{{ contact.workNumber }}"}},[t._v(t._s(a.workNumber))])])]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:a.email,expression:"contact.email"}],staticClass:"contact-info-row"},[o("div",{staticClass:"contact-info-left"},[t._v("\r\n                  Email:\r\n                ")]),t._v(" "),o("div",{staticClass:"contact-info-item"},[o("a",{attrs:{href:"mailto:{{ contact.email }}"}},[t._v(t._s(a.email))])])])]),t._v(" "),o("div",{staticClass:"favorite-button contact-button",on:{click:function(e){t.isFavoriteChanging(a)}}},[o("i",{class:[a.isFavorite?"fas":"far","fa-star"]})]),t._v(" "),o("div",{staticClass:"edit-button contact-button",on:{click:function(e){t.$emit("editContactShow",a)}}},[o("i",{staticClass:"fas fa-pen"})]),t._v(" "),o("div",{staticClass:"delete-button contact-button",on:{click:function(e){t.deleteContact(a)}}},[o("i",{staticClass:"fas fa-times"})])]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.isDeleteModalShow,expression:"isDeleteModalShow"}],staticClass:"delete-contact-modal"},[o("button",{attrs:{type:"button"},on:{click:function(a){t.deleteContactConfirmModal()}}},[t._v("Удалить")]),t._v(" "),o("button",{attrs:{type:"button"},on:{click:function(a){t.isDeleteModalShow=!1}}},[t._v("Отмена")])]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.isContactSavedShow,expression:"isContactSavedShow"}],staticClass:"contact-saved"},[t._v("\r\n            Контакт сохранён!\r\n          ")])])})):o("p",{staticClass:"no-contacts"},[t._v("Контактов нет")])]),t._v(" "),o("div",{staticClass:"bottom-bar"},[o("div",{staticClass:"contacts-count"},[t.filterValue?o("p",[t._v("Найдено: "+t._s(t.filteredContacts.length))]):o("p",[t._v("Всего контактов: "+t._s(t.contactsList.length))])]),t._v(" "),o("div",{staticClass:"add-contact-button",on:{click:function(a){t.$emit("addContactShow")}}},[o("i",{staticClass:"fas fa-plus"})])])])])},staticRenderFns:[]};var l=e("VU/8")(s,c,!1,function(t){e("PGaL")},null,null).exports,r=e("zM1N"),d=e.n(r),u={name:"AddEditModal",data:function(){return{nameInput:"",phoneInput:"",isAddContactShow:!1,isEditContactShow:!1,indexOfEdit:"",newContact:{name:null,phoneNumber:null,workNumber:null,email:null,image:"",isFavorite:!1,contactGroup:"Без группы",color:"white"},editableContact:{},disabled:!0,groups:[{name:"Без группы"},{name:"Семья"},{name:"Друзья"},{name:"Сотрудники"}],colors:[{colorName:"white"},{colorName:"red"},{colorName:"yellow"},{colorName:"blue"},{colorName:"gray"}]}},computed:{required:function(){return this.isAddContactShow?!this.newContact.name||!(this.newContact.phoneNumber||this.newContact.workNumber||this.newContact.email):!this.editableContact.name||!(this.editableContact.phoneNumber||this.editableContact.workNumber||this.editableContact.email)}},methods:{clearInputs:function(){this.newContact={name:null,phoneNumber:null,workNumber:null,email:null,image:"",isFavorite:!1,contactGroup:"Без группы"}},addContactShow:function(){this.isAddContactShow=!0,this.isEditContactShow=!1},editContactShow:function(t,a){this.isEditContactShow=!0,this.isAddContactShow=!1,this.editableContact=d()(t),this.indexOfEdit=a},hideModals:function(){this.isAddContactShow=!1,this.isEditContactShow=!1,this.clearInputs()},uploadImage:function(t){var a=t.target.files||t.dataTransfer.files;a.length&&this.createImage(a[0])},createImage:function(t){var a=this,e=new FileReader;e.onload=function(t){a.isAddContactShow?a.newContact.image=t.target.result:a.editableContact.image=t.target.result},e.readAsDataURL(t)},deleteImage:function(){this.isAddContactShow?this.newContact.image="":this.editableContact.image=""}}},m={render:function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"modal-body"},[o("div",{staticClass:"modal-close",on:{click:function(a){t.$emit("modalHide"),t.hideModals()}}},[o("i",{staticClass:"fas fa-times"})]),t._v(" "),t.isAddContactShow?o("form",{staticClass:"modal-form"},[o("p",{staticClass:"modal-title"},[t._v("Добавить контакт")]),t._v(" "),o("div",{staticClass:"modal-content"},[o("div",{staticClass:"contacts-image-wrapper"},[o("div",{staticClass:"contact-image"},[t.newContact.image?o("img",{attrs:{src:t.newContact.image}}):o("img",{attrs:{src:e("Kax8")}})]),t._v(" "),o("div",{staticClass:"change-image"},[t.newContact.image?o("div",{staticClass:"image-button"},[o("button",{attrs:{type:"button"},on:{click:t.deleteImage}},[t._v("Удалить фото")])]):o("div",{staticClass:"image-button"},[o("input",{attrs:{type:"file",id:"addUploadImage"},on:{change:t.uploadImage}}),t._v(" "),o("label",{attrs:{for:"addUploadImage"}},[t._v("Загрузить фото")])])])]),t._v(" "),o("div",{staticClass:"modal-inputs"},[o("div",{staticClass:"modal-input"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.newContact.name,expression:"newContact.name"}],attrs:{type:"text",placeholder:"Имя",name:"name"},domProps:{value:t.newContact.name},on:{input:function(a){a.target.composing||t.$set(t.newContact,"name",a.target.value)}}})]),t._v(" "),o("div",{staticClass:"modal-input"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.newContact.phoneNumber,expression:"newContact.phoneNumber"}],attrs:{type:"number",placeholder:"Личный номер",name:"phone"},domProps:{value:t.newContact.phoneNumber},on:{input:function(a){a.target.composing||t.$set(t.newContact,"phoneNumber",a.target.value)}}})]),t._v(" "),o("div",{staticClass:"modal-input"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.newContact.workNumber,expression:"newContact.workNumber"}],attrs:{type:"number",placeholder:"Рабочий номер",name:"workPhone"},domProps:{value:t.newContact.workNumber},on:{input:function(a){a.target.composing||t.$set(t.newContact,"workNumber",a.target.value)}}})]),t._v(" "),o("div",{staticClass:"modal-input"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.newContact.email,expression:"newContact.email"}],attrs:{type:"text",placeholder:"Email",name:"email"},domProps:{value:t.newContact.email},on:{input:function(a){a.target.composing||t.$set(t.newContact,"email",a.target.value)}}})]),t._v(" "),o("div",{staticClass:"modal-input"},[o("select",{directives:[{name:"model",rawName:"v-model",value:t.newContact.contactGroup,expression:"newContact.contactGroup"}],staticClass:"modal-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.newContact,"contactGroup",a.target.multiple?e:e[0])}}},t._l(t.groups,function(a){return o("option",{domProps:{value:a.name}},[t._v(t._s(a.name))])}))]),t._v(" "),o("div",{staticClass:"modal-inputs-bottom"},[o("ul",{staticClass:"modal-contact-colors"},t._l(t.colors,function(a){return o("li",{staticClass:"modal-contact-color",class:a.colorName,on:{click:function(e){t.newContact.color=a.colorName}}})})),t._v(" "),o("div",{staticClass:"save-contact-button"},[o("input",{attrs:{type:"submit",value:"Сохранить",disabled:t.required},on:{click:[function(a){t.$emit("addContact",t.newContact),t.hideModals()},function(t){if(t.preventDefault(),t.target!==t.currentTarget)return null}]}})])])])])]):t.isEditContactShow?o("form",{staticClass:"modal-form"},[o("p",{staticClass:"modal-title"},[t._v("Изменить контакт")]),t._v(" "),o("div",{staticClass:"modal-content"},[o("div",{staticClass:"contacts-image-wrapper"},[o("div",{staticClass:"contact-image"},[t.editableContact.image?o("img",{staticStyle:{width:"100px"},attrs:{src:t.editableContact.image}}):o("img",{staticStyle:{width:"100px"},attrs:{src:e("Kax8")}})]),t._v(" "),o("div",{staticClass:"change-image"},[t.editableContact.image?o("div",{staticClass:"image-button"},[o("button",{attrs:{type:"button"},on:{click:t.deleteImage}},[t._v("Удалить фото")])]):o("div",{staticClass:"image-button"},[o("input",{attrs:{type:"file",id:"addUploadImage"},on:{change:t.uploadImage}}),t._v(" "),o("label",{attrs:{for:"addUploadImage"}},[t._v("Загрузить фото")])])])]),t._v(" "),o("div",{staticClass:"modal-inputs"},[o("div",{staticClass:"modal-input"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.editableContact.name,expression:"editableContact.name"}],attrs:{type:"text",placeholder:"Имя",name:"name"},domProps:{value:t.editableContact.name},on:{input:function(a){a.target.composing||t.$set(t.editableContact,"name",a.target.value)}}})]),t._v(" "),o("div",{staticClass:"modal-input"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.editableContact.phoneNumber,expression:"editableContact.phoneNumber"}],attrs:{type:"number",placeholder:"Личный номер",name:"phone"},domProps:{value:t.editableContact.phoneNumber},on:{input:function(a){a.target.composing||t.$set(t.editableContact,"phoneNumber",a.target.value)}}})]),t._v(" "),o("div",{staticClass:"modal-input"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.editableContact.workNumber,expression:"editableContact.workNumber"}],attrs:{type:"number",placeholder:"Рабочий номер",name:"workPhone"},domProps:{value:t.editableContact.workNumber},on:{input:function(a){a.target.composing||t.$set(t.editableContact,"workNumber",a.target.value)}}})]),t._v(" "),o("div",{staticClass:"modal-input"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.editableContact.email,expression:"editableContact.email"}],attrs:{type:"text",placeholder:"Email",name:"email"},domProps:{value:t.editableContact.email},on:{input:function(a){a.target.composing||t.$set(t.editableContact,"email",a.target.value)}}})]),t._v(" "),o("div",{staticClass:"modal-input"},[o("select",{directives:[{name:"model",rawName:"v-model",value:t.editableContact.contactGroup,expression:"editableContact.contactGroup"}],staticClass:"modal-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.editableContact,"contactGroup",a.target.multiple?e:e[0])}}},t._l(t.groups,function(a){return o("option",{domProps:{value:a.name}},[t._v(t._s(a.name))])}))]),t._v(" "),o("div",{staticClass:"modal-inputs-bottom"},[o("ul",{staticClass:"modal-contact-colors"},t._l(t.colors,function(a){return o("li",{staticClass:"modal-contact-color",class:a.colorName,on:{click:function(e){t.editableContact.color=a.colorName}}})})),t._v(" "),o("div",{staticClass:"save-contact-button"},[o("input",{attrs:{type:"submit",value:"Сохранить",disabled:t.required},on:{click:[function(a){t.$emit("editContact",[t.editableContact,t.indexOfEdit]),t.hideModals()},function(t){if(t.preventDefault(),t.target!==t.currentTarget)return null}]}})])])])])]):t._e()])},staticRenderFns:[]};var v={name:"App",components:{Contacts:l,AddEditModal:e("VU/8")(u,m,!1,function(t){e("60Y5")},null,null).exports},data:function(){return{showModal:!1}},methods:{showAddModal:function(){this.$refs.modal.addContactShow(),this.showModal=!0},showEditModal:function(t){this.$refs.modal.editContactShow(t,this.$refs.contacts.contactsList.indexOf(t)),this.showModal=!0},addContact:function(t){this.$refs.contacts.addContact(t),this.$refs.modal.clearInputs(),this.modalHide()},editContact:function(t){this.$refs.contacts.editContact(t[0],t[1]),this.modalHide()},modalHide:function(){this.showModal=!1},scrollHanle:function(t){console.log(t)}}},p={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"contacts-wrapper"},[a("contacts",{ref:"contacts",on:{addContactShow:this.showAddModal,editContactShow:this.showEditModal}}),this._v(" "),a("add-edit-modal",{directives:[{name:"show",rawName:"v-show",value:this.showModal,expression:"showModal"}],ref:"modal",on:{modalHide:this.modalHide,addContact:this.addContact,editContact:this.editContact}})],1)])},staticRenderFns:[]};var C=e("VU/8")(v,p,!1,function(t){e("lszK")},null,null).exports;o.a.config.productionTip=!1,new o.a({el:"#app",components:{App:C},template:"<App/>"})},PGaL:function(t,a){},lszK:function(t,a){}},["NHnr"]);
//# sourceMappingURL=app.784515db6d87e0af3ffa.js.map